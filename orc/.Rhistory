temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
ls()
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1496966
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
urls
urls
ls()
urls
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1496986
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
urls
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1496996
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
urls
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
rm(list = ls())
gc()
ls()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1496996
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497006
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
rm(list = ls())
gc
gc()
ls()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497006
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
urls
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497016
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
urls
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
rm(list = ls())
gc()
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497016
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497026
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",row.names = T,col.names = F)
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497046
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp0.txt",
row.names = TRUE,col.names = F)
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497056
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp0.txt",
row.names = TRUE,col.names = F)
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497056
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497056
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp0.txt",
row.names = TRUE,col.names = F)
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497066
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497066
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497066
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
urls
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
# temp <- lapply(urls, function(x){read_html(x,encoding = 'gbk') })
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",
row.names = TRUE,col.names = F)
rm(list = ls())
gc()
rm(list = ls())
gc()
rm(list = ls())
gc()
library(rvest)
library(magrittr)
library(stringr)
n_p <- 1497076
urls <- paste0("https://www.yqxsy.com/7_7468/",c(n_p:(n_p+9)),".html")
temp0 <-list()
for (i in 1:10){
print(urls[i])
# Sys.sleep(runif(1,2,5))
temp0[[i]]<- read_html(urls[i],encoding = 'gbk')
}
temp1 <- sapply(temp0,function(x){html_nodes(x,"div ")[[12]] %>%
html_text() %>%
gsub('\r|\n|\t', '', .) %>%
gsub("。手", "",.)})
names <- sapply(temp0,function(x){
temp1 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[2] %>%
str_split("_") %>%
unlist %>%
.[1]
temp2 <- html_nodes(x,"title") %>%
html_text() %>%
str_split("章") %>%
unlist %>%
.[1]
paste(temp2,temp1, sep = "--") %>% return()
})
names(temp1) <- names
write.table(temp1,"/Users/wen/Desktop/temp1.txt",
row.names = TRUE,col.names = F)
install.packages("tesseract")
library(tesseract)
library(tesseract)
tesseract_info()
tesseract_download("chi_tra")
tesseract_download("chi_sim")
tesseract_download("chi_tra")
library(tesseract)
setwd("orc/")
text_1<-ocr('eng_2.jpg', engine = tesseract("eng"))
cat(text_1) #输出结果
text_3<-ocr('chi_2.jpg', engine = tesseract("chi_sim"))
cat(text_3) #输出结果
